## Description
Test-guided Refinement of LLM-produced Code. `A framework for automated code generation, testing and repair.`

## Getting Started
# Prerequisites
- Python 
- OpenAI API key 
- Required Python libraries (Install using pip install -r requirements.txt)


- Please download and unpack the Solutions.zip from the provided link and unpack it into root directory of the repository. Please do this before running the experiments.
Link: https://mega.nz/file/goAh3ZDA#AZvSXAC0CFHG2wmDQ5eTiiTQc7Y3ZyWSqyEpwdKCTjg
```bash
python -m venv myenv
myenv\Scripts\activate
python -m pip install --upgrade pip
pip install -r requirements.txt 
```

## Code execution
Create a data file with LeetCode questions:
```bash
python .\scraper
```
This creates a file called LeetCode.xlsx in the same folder which is used as the dataset in our project.

Calling the OpenAI API for responses:
```bash
python .\LLMPrompt.py model -d datatype -o 
Example: python .\LLMPrompt.py "gpt-3.5-turbo" -d leetcode -o
```
This creates ResponseList.csv and ResponseLog.txt in the same folder. These files have the response analysis and the terminal logs respectively. Further, a folder called Solutions is also created in the same location. This folder contains the solutions generated by LLM ordered by the questions. 

### Folders:
- `ImagesAndGraphs` - Contains the images and graphs we have computed.
- `Solutions` - Contains the responses produced by the LLM for the respective runs.

### Files:
- `importsCheck.py` - Installs any new imports present in the LLM responses.
- `testCaseParser.py` - Parses the testcases from string to Python datatypes.
- `validation.py` - Submits the LLm response to the LeetCode platform.
- `chartCreation.ipynb` - Contains the plots generated from the solutions obtained.
- `computeAcceptancerates.ipynb` - Calculates the interpreted and submitted acceptance rates for the solutions.
- `computePromptTokenTime.ipynb` - Computes the total and average prompt token lengths and the time taken for the interactions.
- `responseToken.py` - Computes the token lengths for the responses.
- `LeetCode.xlsx` - Data File created by scraping



