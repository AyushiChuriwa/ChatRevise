## Description
Test-guided Refinement of LLM-produced Code. `A framework for automated code generation, testing and repair.`

## Getting Started
# Prerequisites
- Python 
- OpenAI API key 
- Required Python libraries (Install using pip install -r requirements.txt)


- Please download and unpack the Solutions.zip from the provided link and unpack it into root directory of the repository. Please do this before running the experiments.
Link: https://mega.nz/file/goAh3ZDA#AZvSXAC0CFHG2wmDQ5eTiiTQc7Y3ZyWSqyEpwdKCTjg
```bash
python -m venv myenv
myenv\Scripts\activate
python -m pip install --upgrade pip
pip3 install -r requirements.txt 
```

## Code execution
Create DataFile of LeetCode questions:
```bash
python .\Scraper
```
This creates a file called LeetCode.xlsx in the same folder. This file is used as the dataset in our project.

Calling the OpenAI API for responses:
```bash
python .\ChatGPTPrompt model -q datafile -o -s 0
Example: python .\ChatGPTPrompt.py gpt-3.5-turbo -q LeetCode.xlsx -o -s 0
```
This creates ResponseList.csv and ResponseLog.txt in the same folder. These files have the response analysis and the terminal logs respectively. Further, a folder called Solutions is also created in the same location. This folder contains the solutions generated by LLMs. 

Folders:
ImagesAndGraphs - Contains the images and graphs we have computed.
Solutions - Contains the solutions produced by the LLMs for the respective runs.

Files:
importsCheck.py - Installs any new imports present in the solutions generated.
testCaseParser.py - Parses the testcases.
validation.py - Submits the solutions to the LeetCode platform.

chartCreation.py - Contains the plots generated from the solutions obtained.
computeAcceptancerates.py - Calculates the interpreted and submitted solutions.
computePromptTokenTime.py - Computes the total and average prompt token lengths and the time taken for the interactions.
responseToken.py - Computes the token lengths for the responses.
LeetCode.xlsx - Data File created



